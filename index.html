<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>QuizMaster - Test Your Knowledge</title>
    <style>
         /* === Dragon Background Styles === */
    body, html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      touch-action: none;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    #dragon-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    svg {
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 50% 50%, #3c6199, #1e2d4a);
      filter: sepia(20%);
      cursor: pointer;
    }

    /* === Quiz Box === */
    .container {
      position: relative;
      z-index: 10;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      width: 90%;
      max-width: 800px;
      margin: 40px auto;
      padding: 40px;
      text-align: center;
    }

    .btn {
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 12px 28px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
      margin-top: 20px;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102,126,234,0.3);
    }
  </style>
</head>
<body>
38.85L-65.45 38.65Q-44.4 36.05 -17.8 19.6Q-9.9 12.8 -15.15 4.4Q-18.15 3.15 -19 0Q-18.15 -3.15 -15.15 -4.4Q-9.9 -12.8 -17.8 -19.6L-17.8 -19.55Q-44.4 -36.05 -65.45 -38.6L-67.5 -38.8Q-72.55 -39.3 -77.25 -38.95L-79.05 -38.75Q-83.7 -38.25 -87.95 -36.95L-88.95 -36.65Q-91.1 -35.55 -92.05 -34.7Q-93.05 -33.9 -92.45 -27.35M-8.6,15.6Q-17.8 23.3 -21.25 24.2Q-28.3 29.9 -39.2 33.3Q-52.45 38.85 -66.6 40.5Q-79.85 42 -92.35 36Q-93.5 35.65 -93.25 31.55L-94.05 36.1Q-96.1 46.05 -96 56.15Q-95.8 70.5 -90.8 84.1Q-86 97.3 -77.9 108.75Q-70.3 119.35 -61.1 128.6Q-65.95 123.1 -70.25 117.25Q-74.6 111.35 -78.45 105.15Q-82.1 99.3 -85 93Q-88.05 86.55 -90.05 79.7Q-92.15 72.5 -93.25 65.1Q-94.4 58.2 -94.1 51.2Q-93.75 44.35 -92.7 37.6L-89.8 38.9L-88.95 39.45Q-88.65 54.15 -87.55 59.55Q-80.65 94.5 -36.65 117.25Q-79.8 89.8 -86.3 53.1Q-87.65 46.65 -88 39.65Q-82.9 41.75 -77.45 42.75Q-75.75 50.75 -73.65 57.15Q-63.75 86.35 -17 98.3Q-24.05 95.95 -30.6 92.75L-43.65 85.9Q-49.9 82.35 -55.45 77.6Q-60.8 73 -64.8 67.15Q-68.9 61.25 -71.85 54.85Q-74.6 49.1 -76.35 42.95L-70.55 43.6L-67 43.6Q-62.95 52.1 -60.5 55.4L-56.8 60.35Q-54.55 63.35 -48.8 66.9Q-43.05 70.4 -36.5 73Q-29.85 75.65 -22.85 77.15Q-16.2 78.55 -9.45 79.15Q-2.2 79.8 5.1 79.35Q-45.9 75.55 -60.6 50.3L-64.7 43.4L-56.05 41.95Q-53.85 45.65 -50.25 50Q-32.2 72.1 21 57.85Q-34.85 68.4 -51.15 44.85L-53.7 41.2L-45.35 38.35L-42.05 40.95Q-17.75 61.45 29.75 36.85Q19.85 40.9 12.75 42.9Q5.95 44.75 -1 46Q-8.35 47.35 -16.2 46.35Q-24.05 45.3 -31.5 43.3Q-38.9 41.25 -42.55 37.05L-34.25 34.05Q-24.55 30.7 -16.75 24.5Q-12.1 20.75 -8.6 15.6" /> </g> <g id="Espina" transform="matrix(1, 0, 0, 1, 0, 0)"> <linearGradient id="LinearGradID_2" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0.0229492, 0, 0, -0.0152893, 0, 0.05)" spreadMethod="pad" x1="-819.2" y1="0" x2="819.2" y2="0"> <stop offset="0" style="stop-color:#CCCCCC;stop-opacity:1" /> <stop offset="1" style="stop-color:#333333;stop-opacity:1" /> </linearGradient> <path style="fill:url(#LinearGradID_2) " d="M-18.8,0Q-17.85 -5.7 -12.3 -9.6Q-11.2 -5.35 -6.5 -8.25L-6.45 -8.2L-6.2 -8.3Q1.25 -16.25 6.65 -12.4Q0.05 -12.55 0 -5.95Q2.7 -2.4 7.75 -4.1Q18 -1.45 18.8 0L-18.8 0" /> <linearGradient id="LinearGradID_3" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0.0229492, 0, 0, 0.0152893, 0, -0.05)" spreadMethod="pad" x1="-819.2" y1="0" x2="819.2" y2="0"> <stop offset="0" style="stop-color:#CCCCCC;stop-opacity:1" /> <stop offset="1" style="stop-color:#333333;stop-opacity:1" /> </linearGradient> <path style="fill:url(#LinearGradID_3) " d="M18.8,0Q18 1.45 7.75 4.1Q2.7 2.4 0 5.95Q0.05 12.55 6.65 12.4Q1.25 16.25 -6.2 8.35Q-6.35 8.25 -6.45 8.25L-6.5 8.25Q-11.2 5.35 -12.3 9.6Q-17.85 5.7 -18.8 0L18.8 0" /> </g> </defs> <g id="screen" /> </svg> <script src="dragon.js"></script> </body> </html>

    /* === Dragon Animation JS === */
    const screen = document.getElementById("screen");
    const xmlns = "http://www.w3.org/2000/svg";
    const xlinkns = "http://www.w3.org/1999/xlink";

    window.addEventListener("pointermove", (e) => {
      pointer.x = e.clientX;
      pointer.y = e.clientY;
      rad = 0;
    });

    let width = window.innerWidth, height = window.innerHeight;
    const resize = () => { width = window.innerWidth; height = window.innerHeight; };
    window.addEventListener("resize", resize);

    const prepend = (use, i) => {
      const elem = document.createElementNS(xmlns, "use");
      elems[i].use = elem;
      elem.setAttributeNS(xlinkns, "xlink:href", "#" + use);
      screen.prepend(elem);
    };

    const N = 40;
    const elems = [];
    for (let i = 0; i < N; i++) elems[i] = { use: null, x: width / 2, y: 0 };
    const pointer = { x: width / 2, y: height / 2 };
    const radm = Math.min(pointer.x, pointer.y) - 20;
    let frm = Math.random();
    let rad = 0;

    for (let i = 1; i < N; i++) {
      if (i === 1) prepend("Cabeza", i);
      else if (i === 8 || i === 14) prepend("Aletas", i);
      else prepend("Espina", i);
    }

    const run = () => {
      requestAnimationFrame(run);
      let e = elems[0];
      const ax = (Math.cos(3 * frm) * rad * width) / height;
      const ay = (Math.sin(4 * frm) * rad * height) / width;
      e.x += (ax + pointer.x - e.x) / 10;
      e.y += (ay + pointer.y - e.y) / 10;
      for (let i = 1; i < N; i++) {
        const e = elems[i];
        const ep = elems[i - 1];
        const a = Math.atan2(e.y - ep.y, e.x - ep.x);
        e.x += (ep.x - e.x + (Math.cos(a) * (100 - i)) / 5) / 4;
        e.y += (ep.y - e.y + (Math.sin(a) * (100 - i)) / 5) / 4;
        const s = (162 + 4 * (1 - i)) / 50;
        e.use.setAttribute(
          "transform",
          `translate(${(ep.x + e.x) / 2},${(ep.y + e.y) / 2}) rotate(${(180 / Math.PI) * a}) scale(${s},${s})`
        );
      }
      if (rad < radm) rad++;
      frm += 0.003;
      if (rad > 60) {
        pointer.x += (width / 2 - pointer.x) * 0.05;
        pointer.y += (height / 2 - pointer.y) * 0.05;
      }
    };
  </script>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">🧠 QuizMaster</div>
            <div class="subtitle">Test Your Knowledge</div>
        </div>

        <!-- Start Screen -->
        <div id="start-screen" class="quiz-section active">
            <h2 style="text-align:center; color:#222; margin-bottom:8px">Welcome to QuizMaster!</h2>
            <p style="text-align:center; color:#555; margin-bottom:16px">Score 7+ to unlock an NFT mint option. Questions shuffle on each play.</p>
            <div style="text-align:center;">
                <button class="btn" onclick="startQuiz()">Start Quiz</button>
            </div>

            <div style="margin-top:18px;">
                <h3 style="margin-bottom:8px">Leaderboard</h3>
                <div id="leaderboard-start" class="leaderboard"></div>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="quiz-section">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                <div class="question-counter"><strong><span id="current-question">1</span></strong> / <span id="total-questions">10</span></div>
                <div style="width:60%;"><div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div></div>
            </div>

            <div class="question">
                <h3 id="question-text"></h3>
                <div class="options" id="options-container"></div>
            </div>

            <div id="feedback" class="note" style="display:none"></div>

            <div class="buttons">
                <button class="btn secondary" id="pause-btn" onclick="pauseQuiz()">Pause</button>
                <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="quiz-section">
            <h2 style="text-align:center; color:#222">Quiz Complete!</h2>

            <div style="display:flex;gap:14px;align-items:center;justify-content:center;margin-top:12px;">
                <div style="width:150px;height:150px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-direction:column;color:#fff;font-weight:700;background:linear-gradient(45deg,#4CAF50,#8BC34A);">
                    <div id="score-percentage">0%</div>
                    <div style="font-size:0.85rem;margin-top:6px;">Score</div>
                </div>
            </div>

            <div id="results-message" style="text-align:center;margin-top:12px;color:#333;font-weight:600"></div>

            <div class="results-breakdown" style="margin-top:12px">
                <div style="display:flex;justify-content:space-between;margin-bottom:6px"><div>Correct Answers:</div><div id="correct-count">0</div></div>
                <div style="display:flex;justify-content:space-between;margin-bottom:6px"><div>Incorrect Answers:</div><div id="incorrect-count">0</div></div>
                <div style="display:flex;justify-content:space-between;"><div>Total Questions:</div><div id="total-count">0</div></div>
            </div>

            <div style="text-align:center;margin-top:12px">
                <button class="btn" onclick="restartQuiz()">Take Quiz Again</button>
                <button class="btn" onclick="saveScore()" style="margin-left:8px">Save to Leaderboard</button>
            </div>

            <div style="margin-top:14px">
                <h3 style="margin-bottom:8px">Leaderboard</h3>
                <div id="leaderboard-results" class="leaderboard"></div>
            </div>
        </div>
    </div>

    <script>
    // ---------- Data (unchanged questions & correct indices) ----------
    const initialQuestions = [
    {
      question: "According to Youmio’s tweet, approximately how many wearable SBTs have been minted and mentioned as listed on OpenSea?",
      options: ["~6,500", "~65,000", "~650,000", "~65"],
      correct: 1,
    },
    {
      question: "In the Youmio announcement, the project said its ecosystem will be ‘living on its own L1’ in partnership with which network?",
      options: ["Ethereum", "Solana", "Avalanche (AVAX)", "Polygon"],
      correct: 2,
    },
    {
      question: "What does ‘L1’ most commonly refer to in blockchain terminology (as used in the Youmio announcement)?",
      options: [
        "A second-layer scaling solution",
        "A Layer-1 blockchain (base/mainchain)",
        "A token standards committee",
        "A decentralized exchange (DEX)",
      ],
      correct: 1,
    },
    {
      question: "What is OpenSea in the context of Youmio’s tweet about wearable SBTs?",
      options: [
        "A hardware wallet brand",
        "An NFT marketplace where digital assets like wearables can be listed and viewed",
        "A Layer-1 blockchain",
        "A decentralized identity protocol",
      ],
      correct: 1,
    },
    {
      question: "Youmio mentioned a ‘Mint to Chain’ style utility in their posts. Which of the following best describes ‘mint-to-chain’?",
      options: [
        "Sending NFTs from one chain to another automatically",
        "Minting an asset (NFT/SBT) directly on a blockchain so the token exists on-chain immediately",
        "A swap between tokens across DEXs",
        "Off-chain storage of metadata only",
      ],
      correct: 1,
    },
    {
      question: "Which Youmio milestone was explicitly mentioned in their posts as a measure of early network activity?",
      options: [
        "10,000 wallets created",
        "Closed Testnet crossed 500k transactions",
        "1 million active users",
        "Mainnet launch on Ethereum",
      ],
      correct: 1,
    },
    {
      question: "What kind of reward mechanic did Youmio reference as part of their L1 ecosystem (useful for community/utility)?",
      options: [
        "Proof-of-Work mining rewards",
        "‘Affinity’ rewards mechanics tied to utility and 3D assets",
        "Only simple airdrops with no utility",
        "Yield farming for stablecoins",
      ],
      correct: 1,
    },
    {
      question: "If a user wants to view Youmio’s wearable SBT listings as referenced in the tweet, what’s the most direct place to check?",
      options: [
        "A centralized exchange order book",
        "The OpenSea marketplace listing for the project",
        "An email newsletter archive",
        "A private Discord DM only",
      ],
      correct: 1,
    },
    {
      question: "Why would a project choose to run its own L1 (as Youmio announced) instead of staying entirely on another chain? (Best single answer)",
      options: [
        "To avoid needing any validators or nodes",
        "To have custom consensus, lower fees, and tighter control over protocol features and economics",
        "To become fully centralized under one company",
        "To eliminate the need for wallets",
      ],
      correct: 1,
    },
    {
      question: "Which claim below best matches Youmio’s public positioning from the analysed tweets?",
      options: [
        "Youmio is primarily a hardware wallet company.",
        "Youmio is building an on-chain AI/3D agent ecosystem with NFTs/SBT utilities, launching L1 infrastructure (partnering with AVAX) and achieving testnet growth.",
        "Youmio is only a social media marketing agency.",
        "Youmio is shutting down operations.",
      ],
      correct: 1,
    }
    ];

    // ---------- helpers ----------
    function shuffleArray(arr) {
        const a = arr.slice();
        for (let i = a.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
    }

    // Create a fresh quiz copy with options shuffled per-question and correct index remapped
    function makeShuffledQuiz() {
        // deep clone questions
        const copy = initialQuestions.map(q => {
            const opts = q.options.map((o, idx) => ({ text: o, idx }));
            const shuffledOpts = shuffleArray(opts);
            const newCorrect = shuffledOpts.findIndex(x => x.idx === q.correct);
            return { question: q.question, options: shuffledOpts.map(x => x.text), correct: newCorrect };
        });
        return shuffleArray(copy);
    }

    // leaderboard helpers
    function loadLeaderboard() {
        try {
            const raw = localStorage.getItem('quiz_leaderboard');
            return raw ? JSON.parse(raw) : [];
        } catch (e) { return []; }
    }
    function saveLeaderboard(list) {
        try { localStorage.setItem('quiz_leaderboard', JSON.stringify(list)); } catch (e) {}
    }

    // ---------- runtime state ----------
    let quizData = makeShuffledQuiz();
    let currentQuestion = 0;
    let score = 0;
    let selectedOption = -1;
    let quizCompleted = false;

    // DOM refs
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const optionsContainer = document.getElementById('options-container');
    const feedbackEl = document.getElementById('feedback');
    const progressFill = document.getElementById('progress-fill');
    const leaderboardStart = document.getElementById('leaderboard-start');
    const leaderboardResults = document.getElementById('leaderboard-results');

    document.getElementById('total-questions').textContent = quizData.length;

    // render leaderboard into a container
    function renderLeaderboardInto(container) {
        const data = loadLeaderboard();
        if (!data || data.length === 0) {
            container.innerHTML = '<div style="color:#777;padding:10px">No entries yet</div>';
            return;
        }
        // ensure sorted by score desc, recent first when tie
        data.sort((a,b) => b.score - a.score || new Date(b.date) - new Date(a.date));
        const html = data.map((item, idx) => {
            return `<div class="leaderboard-item"><div>${idx+1}. ${escapeHtml(item.name)}</div><div>${item.score}/${item.total}</div></div>`;
        }).join('');
        container.innerHTML = html;
    }

    function escapeHtml(s) {
        return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[c]));
    }

    // initial leaderboard render
    renderLeaderboardInto(leaderboardStart);
    renderLeaderboardInto(leaderboardResults);

    // start quiz (shuffle each time)
    function startQuiz() {
        quizData = makeShuffledQuiz();
        currentQuestion = 0;
        score = 0;
        selectedOption = -1;
        quizCompleted = false;
        document.getElementById('total-questions').textContent = quizData.length;
        startScreen.classList.remove('active');
        resultsScreen.classList.remove('active');
        quizScreen.classList.add('active');
        loadQuestion();
    }
    window.startQuiz = startQuiz;

    function loadQuestion() {
        if (currentQuestion >= quizData.length) {
            showResults();
            return;
        }
        const q = quizData[currentQuestion];
        document.getElementById('current-question').textContent = currentQuestion + 1;
        document.getElementById('question-text').textContent = q.question;
        optionsContainer.innerHTML = '';

        q.options.forEach((opt, idx) => {
            const el = document.createElement('div');
            el.className = 'option';
            el.textContent = opt;
            el.onclick = () => selectOption(idx);
            optionsContainer.appendChild(el);
        });

        // progress
        const progress = (currentQuestion / quizData.length) * 100;
        progressFill.style.width = progress + '%';

        // reset UI
        selectedOption = -1;
        document.getElementById('next-btn').disabled = true;
        feedbackEl.style.display = 'none';
        feedbackEl.className = 'note';
    }

    function selectOption(index) {
        if (selectedOption !== -1) return;
        selectedOption = index;
        const options = document.querySelectorAll('.option');
        const q = quizData[currentQuestion];

        options.forEach((optEl, i) => {
            optEl.style.pointerEvents = 'none';
            if (i === q.correct) optEl.classList.add('correct');
            if (i === selectedOption && i !== q.correct) optEl.classList.add('incorrect');
        });

        if (selectedOption === q.correct) {
            score++;
            feedbackEl.textContent = '🎉 Correct! Well done!';
            feedbackEl.className = 'note';
            feedbackEl.style.display = 'block';
            feedbackEl.style.color = '#2e7d32';
        } else {
            feedbackEl.textContent = `❌ Incorrect. The correct answer is: ${q.options[q.correct]}`;
            feedbackEl.className = 'note';
            feedbackEl.style.display = 'block';
            feedbackEl.style.color = '#c62828';
        }

        document.getElementById('next-btn').disabled = false;
    }
    window.selectOption = selectOption;

    function nextQuestion() {
        currentQuestion++;
        setTimeout(() => {
            loadQuestion();
        }, 250);
    }
    window.nextQuestion = nextQuestion;

    function showResults() {
        quizCompleted = true;
        quizScreen.classList.remove('active');
        resultsScreen.classList.add('active');

        const percentage = Math.round((score / quizData.length) * 100);
        document.getElementById('score-percentage').textContent = percentage + '%';
        document.getElementById('correct-count').textContent = score;
        document.getElementById('incorrect-count').textContent = quizData.length - score;
        document.getElementById('total-count').textContent = quizData.length;

        let message = '';
        if (percentage >= 80) message = '🏆 Excellent! You\'re a quiz master!';
        else if (percentage >= 60) message = '👏 Good job! You did well!';
        else if (percentage >= 40) message = '👍 Not bad! Keep practicing!';
        else message = '💪 Don\'t give up! Try again!';
        document.getElementById('results-message').textContent = message;

        // final progress to full
        progressFill.style.width = '100%';
    }
    window.showResults = showResults;

    function restartQuiz() {
        // shuffle questions + options again for a fresh run
        quizData = makeShuffledQuiz();
        currentQuestion = 0;
        score = 0;
        selectedOption = -1;
        quizCompleted = false;
        document.getElementById('total-questions').textContent = quizData.length;
        resultsScreen.classList.remove('active');
        startScreen.classList.add('active');
        // refresh leaderboard view (in case saved)
        renderLeaderboardInto(leaderboardStart);
        renderLeaderboardInto(leaderboardResults);
    }
    window.restartQuiz = restartQuiz;

    function pauseQuiz() {
        // simple behavior: go back to start screen but keep progress intact if desired
        quizScreen.classList.remove('active');
        startScreen.classList.add('active');
    }
    window.pauseQuiz = pauseQuiz;

    function saveScore() {
        if (!quizCompleted) {
            alert('Finish the quiz to save your score.');
            return;
        }
        const name = prompt('Enter your display name (optional):') || 'Anonymous';
        const entry = { name, score, total: quizData.length, date: new Date().toISOString() };
        try {
            const list = loadLeaderboard();
            list.push(entry);
            // sort by score desc, then by newer date
            list.sort((a,b) => b.score - a.score || new Date(b.date) - new Date(a.date));
            const trimmed = list.slice(0, 50);
            saveLeaderboard(trimmed);
            renderLeaderboardInto(leaderboardStart);
            renderLeaderboardInto(leaderboardResults);

            // compute rank of this entry (first matching by name+date)
            const rank = trimmed.findIndex(item => item.name === entry.name && item.date === entry.date) + 1;
            alert('Saved to leaderboard. Your rank: #' + rank);
        } catch (e) {
            alert('Could not save leaderboard locally');
        }
    }
    window.saveScore = saveScore;

    // expose render to console if needed
    window._renderLeaderboard = () => { renderLeaderboardInto(leaderboardStart); renderLeaderboardInto(leaderboardResults); };

    </script>
</body>
</html>
